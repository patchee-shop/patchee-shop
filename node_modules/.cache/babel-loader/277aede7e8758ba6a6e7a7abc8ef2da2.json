{"ast":null,"code":"import _slicedToArray from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from\"react\";import{Context}from\"../../Context\";import ProductsInCart from\"../elements/ProductsInCart\";import ContactsWindow from\"../elements/ContactsWindow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){var _useContext=useContext(Context),records=_useContext.records,userPhone=_useContext.userPhone,userName=_useContext.userName,cartItems=_useContext.cartItems,setCartItems=_useContext.setCartItems,setIsContactsWindowShown=_useContext.setIsContactsWindowShown,setLeftEmptyPhone=_useContext.setLeftEmptyPhone,insertNewOrder=_useContext.insertNewOrder;var _useState=useState(\"–ü–æ–∫–∞ —á—Ç–æ –≤ –∫–æ—Ä–∑–∏–Ω–µ –ø—É—Å—Ç–æ!\"),_useState2=_slicedToArray(_useState,2),cartStatus=_useState2[0],setCartStatus=_useState2[1];var sum=records.length!=0?Object.keys(cartItems).length?Object.entries(cartItems).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return Object.keys(records.filter(function(r){return r.id===key;})[0].fields).length?records.filter(function(r){return r.id===key;})[0].fields.–¶–µ–Ω–∞*value:0;}).reduce(function(a,b){return a+b;}):0:0;var conveyAllCartItems=function conveyAllCartItems(cartItems,orderId,userPhone,userName){Object.entries(cartItems).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return insertNewOrder(key,value,orderId,userPhone,userName);});};var requestOrder=function requestOrder(){conveyAllCartItems(cartItems,Date.now(),userPhone,userName);setCartItems({});setIsContactsWindowShown(\"hidden\");setLeftEmptyPhone(\"\");setCartStatus(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"waiting-for-checking\",children:\"\\u0412\\u0430\\u0448 \\u0437\\u0430\\u043A\\u0430\\u0437 \\u043E\\u0431\\u0440\\u0430\\u0431\\u0430\\u0442\\u044B\\u0432\\u0430\\u0435\\u0442\\u0441\\u044F \\uD83D\\uDC95\"}),/*#__PURE__*/_jsx(\"p\",{className:\"will-contact-soon\",children:\"\\u0421\\u043A\\u043E\\u0440\\u043E \\u0441 \\u0412\\u0430\\u043C\\u0438 \\u0441\\u0432\\u044F\\u0436\\u0435\\u043C\\u0441\\u044F!\"}),/*#__PURE__*/_jsx(\"a\",{className:\"patchee-shop-phone\",href:\"tel:+79118212238\",children:\"+7(911)-821-22-38\"})]}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"section-view cart\",children:[/*#__PURE__*/_jsx(ContactsWindow,{requestOrder:requestOrder}),/*#__PURE__*/_jsx(\"div\",{className:\"fix-wrapper\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"section-title\",children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper cart-wrapper\",children:[/*#__PURE__*/_jsx(ProductsInCart,{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart--summary\",children:Object.keys(cartItems).length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"cart--summary__info\",children:[\"\\u0421\\u0443\\u043C\\u043C\\u0430:\",/*#__PURE__*/_jsxs(\"span\",{className:\"sum\",children:[\" \",sum,\" \\u20BD\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cart--summary__order\",onClick:function onClick(){return setIsContactsWindowShown(\"\");},children:\"\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0437\\u0430\\u043Aa\\u0437\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"cart--summary__empty\",children:cartStatus})})]})]});}","map":{"version":3,"sources":["/Users/nikitaspiridonov/Desktop/Patchee Shop/src/components/pages/Cart.js"],"names":["useState","useContext","Context","ProductsInCart","ContactsWindow","Cart","records","userPhone","userName","cartItems","setCartItems","setIsContactsWindowShown","setLeftEmptyPhone","insertNewOrder","cartStatus","setCartStatus","sum","length","Object","keys","entries","map","key","value","filter","r","id","fields","–¶–µ–Ω–∞","reduce","a","b","conveyAllCartItems","orderId","requestOrder","Date","now"],"mappings":"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","sourcesContent":["import { useState, useContext } from \"react\"\nimport { Context } from \"../../Context\"\nimport ProductsInCart from \"../elements/ProductsInCart\";\nimport ContactsWindow from \"../elements/ContactsWindow\";\n\nexport default function Cart() {\n\n    const {\n        records,\n        userPhone,\n        userName,\n        cartItems,\n        setCartItems,\n        setIsContactsWindowShown,\n        setLeftEmptyPhone,\n        insertNewOrder\n    } = useContext(Context)\n\n    const [cartStatus, setCartStatus] = useState(\"–ü–æ–∫–∞ —á—Ç–æ –≤ –∫–æ—Ä–∑–∏–Ω–µ –ø—É—Å—Ç–æ!\")\n    \n    const sum = records.length != 0? (Object.keys(cartItems).length?\n        Object.entries(cartItems).map(([key, value]) => (\n            Object.keys(records.filter(r => r.id === key)[0].fields).length?\n                records.filter(r => r.id === key)[0].fields.–¶–µ–Ω–∞ * value : 0\n        )).reduce((a, b) => a + b) : 0) : 0\n\n    const conveyAllCartItems = (cartItems, orderId, userPhone, userName) => {\n        Object.entries(cartItems).map(([key, value]) => (\n            insertNewOrder(key, value, orderId, userPhone, userName)\n        ))\n    }\n\n    const requestOrder = () => {\n        conveyAllCartItems(cartItems, Date.now(), userPhone, userName)\n        setCartItems({})\n        setIsContactsWindowShown(\"hidden\")\n        setLeftEmptyPhone(\"\")\n        setCartStatus(\n            <>\n                <p className=\"waiting-for-checking\">\n                    –í–∞—à –∑–∞–∫–∞–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è üíï\n                </p>\n                <p className=\"will-contact-soon\">\n                    –°–∫–æ—Ä–æ —Å –í–∞–º–∏ —Å–≤—è–∂–µ–º—Å—è!\n                </p>\n                <a\n                    className=\"patchee-shop-phone\"\n                    href=\"tel:+79118212238\"\n                >\n                    +7(911)-821-22-38\n                </a>\n            </>\n        )\n    }\n\n    return (\n        <div className=\"section-view cart\">\n            <ContactsWindow requestOrder={requestOrder}/>\n            <div className=\"fix-wrapper\">\n                <h1 className='section-title'>–ö–æ—Ä–∑–∏–Ω–∞</h1>\n            </div>\n            <div className=\"wrapper cart-wrapper\">\n                <ProductsInCart />\n                <div className=\"cart--summary\">\n                    { Object.keys(cartItems).length?\n                    <>\n                        <p className=\"cart--summary__info\">\n                            –°—É–º–º–∞:\n                            <span className=\"sum\"> {sum} ‚ÇΩ</span>\n                        </p>\n                        <button\n                            className=\"cart--summary__order\"\n                            onClick={() => setIsContactsWindowShown(\"\")}\n                        >\n                            –°–¥–µ–ª–∞—Ç—å –∑–∞–∫a–∑\n                        </button>\n                    </> :\n                        <div className=\"cart--summary__empty\">\n                            {cartStatus}\n                        </div>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}