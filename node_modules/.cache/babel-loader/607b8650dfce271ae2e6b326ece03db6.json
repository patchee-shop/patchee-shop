{"ast":null,"code":"import _slicedToArray from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import{Context}from\"../../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Counter(_ref){var recordId=_ref.recordId,remains=_ref.remains;var _useContext=useContext(Context),cartItems=_useContext.cartItems,setCartItems=_useContext.setCartItems;var oneMoreItem=function oneMoreItem(){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},recordId,prev[recordId]<remains?prev[recordId]+1:prev[recordId]));});};var oneLessItem=function oneLessItem(){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},recordId,prev[recordId]>1?prev[recordId]-1:0));});setCartItems(function(prev){return Object.fromEntries(Object.entries(prev).filter(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return value>0;}));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:oneLessItem,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"16\",height:\"16\",fill:\"rgba(255,255,255,0)\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0V6.181\",transform:\"translate(4.91 8) rotate(-90)\",fill:\"none\",stroke:\"#fff\",strokeLinecap:\"round\",strokeWidth:\"1\"})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"counter--number\",children:cartItems[recordId]}),/*#__PURE__*/_jsx(\"div\",{onClick:oneMoreItem,className:cartItems[recordId]>=remains&&\"transparent\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"16\",height:\"16\",fill:\"rgba(255,255,255,0)\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M421,519.609v6.181\",transform:\"translate(-413 -514.699)\",fill:\"none\",stroke:\"#fff\",strokeLinecap:\"round\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0V6.181\",transform:\"translate(4.91 8) rotate(-90)\",fill:\"none\",stroke:\"#fff\",strokeLinecap:\"round\",strokeWidth:\"1\"})]})})]});}","map":{"version":3,"sources":["/Users/nikitaspiridonov/Desktop/Patchee Shop/src/components/elements/Counter.js"],"names":["useContext","Context","Counter","recordId","remains","cartItems","setCartItems","oneMoreItem","prev","oneLessItem","Object","fromEntries","entries","filter","key","value"],"mappings":"uYAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,OAAT,KAAwB,eAAxB,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,MAAwC,IAArBC,CAAAA,QAAqB,MAArBA,QAAqB,CAAXC,OAAW,MAAXA,OAAW,CAEnD,gBAAkCJ,UAAU,CAACC,OAAD,CAA5C,CAAOI,SAAP,aAAOA,SAAP,CAAkBC,YAAlB,aAAkBA,YAAlB,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBD,YAAY,CAAC,SAAAE,IAAI,wCAENA,IAFM,wBAGRL,QAHQ,CAGIK,IAAI,CAACL,QAAD,CAAJ,CAAiBC,OAAlB,CAA4BI,IAAI,CAACL,QAAD,CAAJ,CAAiB,CAA7C,CAAiDK,IAAI,CAACL,QAAD,CAHxD,IAAL,CAAZ,CAMH,CAPD,CAQA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBH,YAAY,CAAC,SAAAE,IAAI,wCAENA,IAFM,wBAGRL,QAHQ,CAGGK,IAAI,CAACL,QAAD,CAAJ,CAAiB,CAAjB,CAAoBK,IAAI,CAACL,QAAD,CAAJ,CAAiB,CAArC,CAAyC,CAH5C,IAAL,CAAZ,CAMAG,YAAY,CAAC,SAAAE,IAAI,QACbE,CAAAA,MAAM,CAACC,WAAP,CACID,MAAM,CAACE,OAAP,CAAeJ,IAAf,EAAqBK,MAArB,CAA4B,kDAAEC,GAAF,UAAOC,KAAP,gBAAkBA,CAAAA,KAAK,CAAG,CAA1B,EAA5B,CADJ,CADa,EAAL,CAAZ,CAKH,CAZD,CAcA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,OAAO,CAAEN,WAAd,uBACI,aAAK,KAAK,CAAC,IAAX,CAAgB,MAAM,CAAC,IAAvB,CAA4B,OAAO,CAAC,WAApC,wBACI,aAAM,KAAK,CAAC,IAAZ,CAAiB,MAAM,CAAC,IAAxB,CAA6B,IAAI,CAAC,qBAAlC,EADJ,cAEI,aAAM,CAAC,CAAC,YAAR,CAAqB,SAAS,CAAC,+BAA/B,CAA+D,IAAI,CAAC,MAApE,CAA2E,MAAM,CAAC,MAAlF,CAAyF,aAAa,CAAC,OAAvG,CAA+G,WAAW,CAAC,GAA3H,EAFJ,GADJ,EADJ,cAOI,aAAM,SAAS,CAAC,iBAAhB,UAAmCJ,SAAS,CAACF,QAAD,CAA5C,EAPJ,cAQI,YAAK,OAAO,CAAEI,WAAd,CAA2B,SAAS,CAAEF,SAAS,CAACF,QAAD,CAAT,EAAuBC,OAAvB,EAAkC,aAAxE,uBACI,aAAK,KAAK,CAAC,IAAX,CAAgB,MAAM,CAAC,IAAvB,CAA4B,OAAO,CAAC,WAApC,wBACI,aAAM,KAAK,CAAC,IAAZ,CAAiB,MAAM,CAAC,IAAxB,CAA6B,IAAI,CAAC,qBAAlC,EADJ,cAEI,aAAM,CAAC,CAAC,oBAAR,CAA6B,SAAS,CAAC,0BAAvC,CAAkE,IAAI,CAAC,MAAvE,CAA8E,MAAM,CAAC,MAArF,CAA4F,aAAa,CAAC,OAA1G,CAAkH,WAAW,CAAC,GAA9H,EAFJ,cAGI,aAAM,CAAC,CAAC,YAAR,CAAqB,SAAS,CAAC,+BAA/B,CAA+D,IAAI,CAAC,MAApE,CAA2E,MAAM,CAAC,MAAlF,CAAyF,aAAa,CAAC,OAAvG,CAA+G,WAAW,CAAC,GAA3H,EAHJ,GADJ,EARJ,GADJ,CAkBH","sourcesContent":["import { useContext } from \"react\"\nimport { Context } from \"../../Context\"\n\nexport default function Counter({ recordId, remains }) {\n\n    const {cartItems, setCartItems} = useContext(Context)\n    const oneMoreItem = () => {\n        setCartItems(prev => (\n            {\n                ...prev,\n                [recordId]: (prev[recordId] < remains)? prev[recordId] + 1 : prev[recordId]\n            }\n        ))\n    }\n    const oneLessItem = () => {\n        setCartItems(prev => (\n            {\n                ...prev,\n                [recordId]: prev[recordId] > 1? prev[recordId] - 1 : 0\n            }\n        ))\n        setCartItems(prev => (\n            Object.fromEntries (\n                Object.entries(prev).filter(([key, value]) => value > 0) \n            )\n        ))\n    }\n\n    return (\n        <div className=\"counter\">\n            <div onClick={oneLessItem}>\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n                    <rect width=\"16\" height=\"16\" fill=\"rgba(255,255,255,0)\"/>\n                    <path d=\"M0,0V6.181\" transform=\"translate(4.91 8) rotate(-90)\" fill=\"none\" stroke=\"#fff\" strokeLinecap=\"round\" strokeWidth=\"1\"/>\n                </svg>\n            </div>\n            <span className=\"counter--number\">{cartItems[recordId]}</span>\n            <div onClick={oneMoreItem} className={cartItems[recordId] >= remains && \"transparent\"}>\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n                    <rect width=\"16\" height=\"16\" fill=\"rgba(255,255,255,0)\"/>\n                    <path d=\"M421,519.609v6.181\" transform=\"translate(-413 -514.699)\" fill=\"none\" stroke=\"#fff\" strokeLinecap=\"round\" strokeWidth=\"1\"/>\n                    <path d=\"M0,0V6.181\" transform=\"translate(4.91 8) rotate(-90)\" fill=\"none\" stroke=\"#fff\" strokeLinecap=\"round\" strokeWidth=\"1\"/>\n                </svg>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}