{"ast":null,"code":"import _toConsumableArray from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/nikitaspiridonov/Desktop/Patchee Shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/React.createContext();function ContextProvider(_ref){var children=_ref.children;// WIDELY USED STATES\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];var _useState3=useState({antiaging:[],discounts:[],facemasks:[],hands:[],body:[],face:[],wrinkles:[],darkcircles:[],hair:[],moisture:[],eyemasks:[],acne:[],scrubs:[],other:[],all:[]}),_useState4=_slicedToArray(_useState3,2),filteredRecords=_useState4[0],setFilteredRecords=_useState4[1];var _useState5=useState(\"all\"),_useState6=_slicedToArray(_useState5,2),currentCategory=_useState6[0],setCurrentCategory=_useState6[1];var _useState7=useState(JSON.parse(localStorage.getItem(\"cartItems\"))||{}),_useState8=_slicedToArray(_useState7,2),cartItems=_useState8[0],setCartItems=_useState8[1];// WIDELY USED FUNCTIONS\nvar additionalFilterTyping=function additionalFilterTyping(records){return records.filter(function(record){return JSON.stringify(record).toLowerCase().includes(searcherValue.toLowerCase());});};var filterForCategory=function filterForCategory(tag){return additionalFilterTyping(records.filter(function(record){return record.fields.Тэги.includes(tag);}));};var filterTyping=function filterTyping(){return records.filter(function(record){return JSON.stringify(record).toLowerCase().includes(searcherValue.toLowerCase());});};useEffect(function(){setFilteredRecords({antiaging:filterForCategory(\"антивозрастное\"),discounts:filterForCategory(\"скидки\"),facemasks:filterForCategory(\"тканевые маски\"),hands:filterForCategory(\"руки\"),body:filterForCategory(\"тело\"),face:[].concat(_toConsumableArray(filterForCategory(\"лицо\")),_toConsumableArray(filterForCategory(\"под глаза\")),_toConsumableArray(filterForCategory(\"вокруг глаз\"))),wrinkles:filterForCategory(\"морщины\"),darkcircles:filterForCategory(\"тёмные круги\"),hair:filterForCategory(\"для волос\"),moisture:filterForCategory(\"увлажнение\"),eyemasks:filterForCategory(\"патчи\"),acne:filterForCategory(\"акне\"),scrubs:filterForCategory(\"скрабы\"),other:filterForCategory(\"другое\"),all:records});console.log(records);},[records]);// CONSTANTS\nvar productsAvailableBaseUrl=\"https://api.airtable.com/v0/appduyTcvGxpEgTb8/tblMpliaVkCLsiKnC?view=%D0%92+%D0%BD%D0%B0%D0%BB%D0%B8%D1%87%D0%B8%D0%B8\";var ordersListBaseUrl=\"https://api.airtable.com/v0/appduyTcvGxpEgTb8/%D0%9E%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%BE%D0%B2\";// CONNECTION WITH DATABASE\nuseEffect(function(){fetch(productsAvailableBaseUrl,{headers:{'Authorization':'Bearer keymV3iplyx82ryEd'}}).then(function(res){return res.json();}).then(function(data){return setRecords(data.records);});},[]);var insertNewOrder=function insertNewOrder(itemId,quantity,orderId,userPhone,userName){return fetch(ordersListBaseUrl,{method:'POST',headers:{'Authorization':'Bearer keymV3iplyx82ryEd','Content-Type':'application/json'},body:\"{ \\n                \\\"fields\\\": {\\n                    \\\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\\": \\\"\".concat(orderId,\"\\\",\\n                    \\\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430\\\": 0,\\n                    \\\"\\u0422\\u043E\\u0432\\u0430\\u0440\\\": [\\n                        \\\"\").concat(itemId,\"\\\"\\n                    ],\\n                    \\\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\\\": \").concat(quantity,\",\\n                    \\\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\\": \\\"\").concat(userPhone,\"\\\",\\n                    \\\"\\u0418\\u043C\\u044F\\\": \\\"\").concat(userName,\"\\\"\\n                }\\n            }\")});};// SEARCHER ELEMENT\nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),searcherValue=_useState10[0],setSearcherValue=_useState10[1];var handleSearcher=function handleSearcher(event){setSearcherValue(function(prevValue){return prevValue=event.target.value;});};useEffect(function(){setFilteredRecords({antiaging:filterForCategory(\"антивозрастное\"),discounts:filterForCategory(\"скидки\"),facemasks:filterForCategory(\"тканевые маски\"),hands:filterForCategory(\"руки\"),body:filterForCategory(\"тело\"),face:[].concat(_toConsumableArray(filterForCategory(\"лицо\")),_toConsumableArray(filterForCategory(\"под глаза\")),_toConsumableArray(filterForCategory(\"вокруг глаз\"))),wrinkles:filterForCategory(\"морщины\"),darkcircles:filterForCategory(\"тёмные круги\"),hair:filterForCategory(\"для волос\"),moisture:filterForCategory(\"увлажнение\"),eyemasks:filterForCategory(\"патчи\"),acne:filterForCategory(\"акне\"),scrubs:filterForCategory(\"скрабы\"),other:filterForCategory(\"другое\"),all:filterTyping()});},[searcherValue]);// INTERACTIONS WITH USER AND CART PAGE\nvar _useState11=useState(\"hidden\"),_useState12=_slicedToArray(_useState11,2),isContactsWindowShown=_useState12[0],setIsContactsWindowShown=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),leftEmptyPhone=_useState14[0],setLeftEmptyPhone=_useState14[1];var _useState15=useState(JSON.parse(localStorage.getItem(\"userPhone\"))||\"+7\"),_useState16=_slicedToArray(_useState15,2),userPhone=_useState16[0],setUserPhone=_useState16[1];var _useState17=useState(JSON.parse(localStorage.getItem(\"userName\"))||\"\"),_useState18=_slicedToArray(_useState17,2),userName=_useState18[0],setUserName=_useState18[1];useEffect(function(){localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));},[cartItems]);useEffect(function(){localStorage.setItem(\"userPhone\",JSON.stringify(userPhone));},[userPhone]);useEffect(function(){localStorage.setItem(\"userName\",JSON.stringify(userName));},[userName]);return/*#__PURE__*/_jsx(Context.Provider,{value:{records:filteredRecords.all,filteredRecords:filteredRecords,searcherValue:searcherValue,setSearcherValue:setSearcherValue,handleSearcher:handleSearcher,currentCategory:currentCategory,setCurrentCategory:setCurrentCategory,cartItems:cartItems,setCartItems:setCartItems,isContactsWindowShown:isContactsWindowShown,setIsContactsWindowShown:setIsContactsWindowShown,leftEmptyPhone:leftEmptyPhone,setLeftEmptyPhone:setLeftEmptyPhone,insertNewOrder:insertNewOrder,userPhone:userPhone,setUserPhone:setUserPhone,userName:userName,setUserName:setUserName},children:children});}export{ContextProvider,Context};","map":{"version":3,"sources":["/Users/nikitaspiridonov/Desktop/Patchee Shop/src/Context.js"],"names":["React","useState","useEffect","Context","createContext","ContextProvider","children","records","setRecords","antiaging","discounts","facemasks","hands","body","face","wrinkles","darkcircles","hair","moisture","eyemasks","acne","scrubs","other","all","filteredRecords","setFilteredRecords","currentCategory","setCurrentCategory","JSON","parse","localStorage","getItem","cartItems","setCartItems","additionalFilterTyping","filter","record","stringify","toLowerCase","includes","searcherValue","filterForCategory","tag","fields","Тэги","filterTyping","console","log","productsAvailableBaseUrl","ordersListBaseUrl","fetch","headers","then","res","json","data","insertNewOrder","itemId","quantity","orderId","userPhone","userName","method","setSearcherValue","handleSearcher","event","prevValue","target","value","isContactsWindowShown","setIsContactsWindowShown","leftEmptyPhone","setLeftEmptyPhone","setUserPhone","setUserName","setItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\n\nconst Context = React.createContext()\n\nfunction ContextProvider({children}) {\n\n    // WIDELY USED STATES\n    const [records, setRecords] = useState([])\n    const [filteredRecords, setFilteredRecords] = useState({\n        antiaging: [],\n        discounts: [],\n        facemasks: [],\n        hands: [],\n        body: [],\n        face: [],\n        wrinkles: [],\n        darkcircles: [],\n        hair: [],\n        moisture: [],\n        eyemasks: [],\n        acne: [],\n        scrubs: [],\n        other: [],\n        all: []\n    })\n    const [currentCategory, setCurrentCategory] = useState(\"all\")\n    const [cartItems, setCartItems] = useState(JSON.parse(localStorage.getItem(\"cartItems\")) || {})\n\n    // WIDELY USED FUNCTIONS\n    const additionalFilterTyping = (records) => {\n        return (records.filter(record => (\n            JSON.stringify(record).toLowerCase().includes(searcherValue.toLowerCase())\n      )))\n    }\n    const filterForCategory = (tag) => {\n        return additionalFilterTyping(records.filter(record => record.fields.Тэги.includes(tag)))\n    }\n    const filterTyping = () => {\n        return (records.filter(record => (\n            JSON.stringify(record).toLowerCase().includes(searcherValue.toLowerCase())\n        )))\n    }\n    useEffect(() => {\n        setFilteredRecords({\n            antiaging: filterForCategory(\"антивозрастное\"),\n            discounts: filterForCategory(\"скидки\"),\n            facemasks: filterForCategory(\"тканевые маски\"),\n            hands: filterForCategory(\"руки\"),\n            body: filterForCategory(\"тело\"),\n            face: [...filterForCategory(\"лицо\"), ...filterForCategory(\"под глаза\"), ...filterForCategory(\"вокруг глаз\")],\n            wrinkles: filterForCategory(\"морщины\"),\n            darkcircles: filterForCategory(\"тёмные круги\"),\n            hair: filterForCategory(\"для волос\"),\n            moisture: filterForCategory(\"увлажнение\"),\n            eyemasks: filterForCategory(\"патчи\"),\n            acne: filterForCategory(\"акне\"),\n            scrubs: filterForCategory(\"скрабы\"),\n            other: filterForCategory(\"другое\"),\n            all: records\n        })\n        console.log(records)\n    }, [records])\n\n    // CONSTANTS\n    const productsAvailableBaseUrl = \"https://api.airtable.com/v0/appduyTcvGxpEgTb8/tblMpliaVkCLsiKnC?view=%D0%92+%D0%BD%D0%B0%D0%BB%D0%B8%D1%87%D0%B8%D0%B8\"\n    const ordersListBaseUrl = \"https://api.airtable.com/v0/appduyTcvGxpEgTb8/%D0%9E%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%BE%D0%B2\"\n\n    // CONNECTION WITH DATABASE\n    useEffect(() => {\n        fetch(productsAvailableBaseUrl, {\n            headers: {\n                'Authorization': 'Bearer keymV3iplyx82ryEd'\n            }\n        })\n            .then(res => res.json())\n            .then(data => (setRecords(data.records)))\n    }, [])\n    const insertNewOrder = (itemId, quantity, orderId, userPhone, userName) =>\n        fetch(ordersListBaseUrl, {\n            method: 'POST',\n            headers: {\n                'Authorization': 'Bearer keymV3iplyx82ryEd',\n                'Content-Type': 'application/json'\n            },\n            body:\n            `{ \n                \"fields\": {\n                    \"Номер заказа\": \"${orderId}\",\n                    \"Скидка\": 0,\n                    \"Товар\": [\n                        \"${itemId}\"\n                    ],\n                    \"Количество\": ${quantity},\n                    \"Телефон\": \"${userPhone}\",\n                    \"Имя\": \"${userName}\"\n                }\n            }`\n        })\n\n    // SEARCHER ELEMENT\n    const [searcherValue, setSearcherValue] = useState(\"\")\n    const handleSearcher = (event) => {\n        setSearcherValue(prevValue => (\n            prevValue = event.target.value\n        ))\n    }\n    useEffect(() => {\n        setFilteredRecords({\n            antiaging: filterForCategory(\"антивозрастное\"),\n            discounts: filterForCategory(\"скидки\"),\n            facemasks: filterForCategory(\"тканевые маски\"),\n            hands: filterForCategory(\"руки\"),\n            body: filterForCategory(\"тело\"),\n            face: [...filterForCategory(\"лицо\"), ...filterForCategory(\"под глаза\"), ...filterForCategory(\"вокруг глаз\")],\n            wrinkles: filterForCategory(\"морщины\"),\n            darkcircles: filterForCategory(\"тёмные круги\"),\n            hair: filterForCategory(\"для волос\"),\n            moisture: filterForCategory(\"увлажнение\"),\n            eyemasks: filterForCategory(\"патчи\"),\n            acne: filterForCategory(\"акне\"),\n            scrubs: filterForCategory(\"скрабы\"),\n            other: filterForCategory(\"другое\"),\n            all: filterTyping()\n        })\n    }, [searcherValue])\n\n    // INTERACTIONS WITH USER AND CART PAGE\n    const [isContactsWindowShown, setIsContactsWindowShown] = useState(\"hidden\")\n    const [leftEmptyPhone, setLeftEmptyPhone] = useState(\"\")\n    const [userPhone, setUserPhone] = useState(JSON.parse(localStorage.getItem(\"userPhone\")) || \"+7\")\n    const [userName, setUserName] = useState(JSON.parse(localStorage.getItem(\"userName\")) || \"\")\n    useEffect(() => {\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems))\n    }, [cartItems])\n    useEffect(() => {\n        localStorage.setItem(\"userPhone\", JSON.stringify(userPhone))\n    }, [userPhone])\n    useEffect(() => {\n        localStorage.setItem(\"userName\", JSON.stringify(userName))\n    }, [userName])\n\n    return (\n        <Context.Provider value={{\n            records: filteredRecords.all,\n            filteredRecords,\n            searcherValue,\n            setSearcherValue,\n            handleSearcher,\n            currentCategory,\n            setCurrentCategory,\n            cartItems,\n            setCartItems,\n            isContactsWindowShown,\n            setIsContactsWindowShown,\n            leftEmptyPhone,\n            setLeftEmptyPhone,\n            insertNewOrder,\n            userPhone,\n            setUserPhone,\n            userName,\n            setUserName\n        }}>\n            {children}\n        </Context.Provider>\n    )\n}\n\nexport {ContextProvider, Context}"]},"metadata":{},"sourceType":"module"}